<app-navbar></app-navbar>

<div class="linha-containers">
  <app-container titulo="Suas medicações" imagem="assets/vector.svg">
    <ng-container *ngFor="let med of usuario.medicamentos">
      <app-botao-remedio
        [nome]="med.nomeMedicamento"
        [doseDiaria]="med.doseDiaria"
        [dataInicio]="med.dataInicio"
        [duracao]="med.duracaoTratamento"
        (click)="medicamentoSelecionado = med"
      ></app-botao-remedio>
    </ng-container>
    <app-botao-generico titulo="Adicionar medicação"></app-botao-generico>
  </app-container>

  <app-container
    titulo="Acompanhe sua saúde"
    imagem="assets/vector (1).svg"
    style="width: 900px"
  >
    <div class="botoes-dashboard">
      <app-botao-info
        *ngFor="let botao of botoes"
        [titulo]="botao"
        (clickBotao)="abrirModal(botao)"
      ></app-botao-info>

      <app-botao-generico titulo="Adicionar dados"></app-botao-generico>
    </div>
  </app-container>

  <app-container titulo="IMC" imagem="assets/group.svg">
    <p><strong>Menor que 18,5</strong> — Abaixo do peso</p>
    <p><strong>18,5 – 24,9</strong> — Peso normal</p>
    <p><strong>25 – 29,9</strong> — Sobrepeso</p>
    <p><strong>30 – 34,9</strong> — Obesidade grau I</p>
    <p><strong>35 – 39,9</strong> — Obesidade grau II</p>
    <p><strong>40 ou mais</strong> — Obesidade grau III</p>

    <!-- <app-botao-generico titulo="Calcular seu IMC"></app-botao-generico> -->

    <app-botao-generico [titulo]="tituloBotaoIMC" (click)="calcularIMC()">
    </app-botao-generico>
  </app-container>
</div>

<!-- Modal -->
<app-modal [show]="modalAberto" (close)="fecharModal()">
  <h2>{{ modalTitulo }}</h2>
  <app-grafico *ngIf="modalAberto" [data]="data"></app-grafico>
</app-modal>

<!-- Modal de medicamento -->
<app-modal-medicamento
  [show]="medicamentoSelecionado != null"
  [medicamento]="medicamentoSelecionado"
  (fechar)="medicamentoSelecionado = null"
  (medicamentoAtualizado)="atualizarListaMedicamento($event)"
  (medicamentoRemovido)="removerDaLista($event)"
></app-modal-medicamento>
